<!DOCTYPE html>
<html>
	<head>
		<title>HTML5 Clock</title>
		<script type="text/javascript">
		var c;
		var cxt;
		var sa;
		var ma;
		var ha;
		
		function init(cElt) {
			if (!cElt) {
				cElt = document.createElement("canvas");
				cElt.id = "clockarea";
				document.body.appendChild(cElt);
			}
			c = cElt;
			c.height = "400";
			c.width = "400";
			cxt = c.getContext("2d");
			var today = new Date();
			var hour = today.getHours();
			var min = today.getMinutes();
			var sec = today.getSeconds();
			sa = ((2*Math.PI)/60 * sec) - (Math.PI / 2);
			ma = ((2*Math.PI)/60 * min) + (((2*Math.PI)/60)/60 * sec) - (Math.PI / 2);
			ha = ((2*Math.PI)/12 * (hour > 12 ? hour-12 : hour)) + ((2*Math.PI)/60 * min) + (((2*Math.PI)/12)/60 * sec) - (Math.PI/2);
			drawClock();
		}
		
		function incAngles() {
			sa += (2 * Math.PI) / 60;
			ma += ((2 * Math.PI) / 60) / 60;
			ha += (((2 * Math.PI) / 60) / 60) / 60;
			var t = setTimeout('drawClock()', 1000);
		}
		
		function drawCircle(color, radius) {
			cxt.fillStyle = color;
			cxt.beginPath();
			cxt.arc(200, 200, radius, 0, Math.PI*2);
			cxt.closePath();
			cxt.fill();			
		}

		function drawLine(xFrom, xTo, yFrom, yTo) {
			cxt.moveTo(xFrom, yFrom);
			cxt.lineTo(xTo, yTo);
		}
		
		function drawClock() {
			drawCircle(document.getElementById("colors1").value, 200);
			drawCircle(document.getElementById("colors2").value, 3);
			cxt.strokeStyle = document.getElementById("colors2").value;
			drawLine(-30*Math.cos(sa)+200, 200*Math.cos(sa)+200, -30*Math.sin(sa)+200, 200*Math.sin(sa)+200);
			drawLine(200, 180*Math.cos(ma)+200, 200, 180*Math.sin(ma)+200);
			drawLine(200, 130*Math.cos(ha)+200, 200, 130*Math.sin(ha)+200);
			cxt.stroke();
			incAngles();
		}
		</script>
	</head>
	<body>
		Clock color: 
		<select id="colors1" name="Clock color">
			<option value="black">Black</option>
			<option value="blue">Blue</option>
		</select>
		Pointer color: 
		<select id="colors2" name="Pointer color">
			<option value="white">White</option>
			<option value="black">Black</option>
			<option value="red">Red</option>
		</select>
		</br>
		<script type="text/javascript">
		init(null);
		</script>
	</body>
</html>